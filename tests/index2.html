<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title></title>
        <link rel="stylesheet" href="../src/scratchTicket.css" />
        <link rel="stylesheet" href="http://s4.qhimg.com/static/c8243de50db4649c/mocha.css" />
        <style type="text/css">
            .scratch-ticket {
                background: url(http://p9.qhimg.com/d/inn/7fd309ad/win.png);
                background-size: 246px 80px;
                border: 10px solid #ebebeb;
            }
            
        </style>
    </head>
    <body>

        <img src="http://p3.qhimg.com/t01054e99712b30b0f4.png" class="scratch-front" crossOrigin="*" alt="" style="display:none;"/>
        <div class="wrap">
            <canvas class="scratch-ticket" width="246" height="80"></canvas>
            <button class="refresh">再来一次</button>
            <button class="clear">全部清除</button>
        </div>
        <div class="wrap">
            <canvas class="scratch-ticket-2" width="246" height="80"></canvas>
            <button class="refresh-2">再来一次</button>
            <button class="clear-2">全部清除</button>
            <img src="http://p3.qhimg.com/t01054e99712b30b0f4.png" class="scratch-front" crossOrigin="*" alt="" style="display:none;"/>
        </div>

        <script type="text/javascript" src="http://s0.qhimg.com/static/24fee17ef5eeefee/zepto_touch_fx.112.js"></script>
        <script type="text/javascript" src="http://s0.qhimg.com/static/05e5e157e7b8d30d/mocha.js"></script>
        <script type="text/javascript" src="http://s4.qhimg.com/static/3277fa15cc2352ec/chai.js"></script>
        <script type="text/javascript" src="http://s0.qhimg.com/static/a544ceb156ebf3bf/sinon.js"></script>

        <script src="../src/scratchTicket.js"></script>
        <script src="../build/scratchTicket.1.0.0.jss"></script>

        <script type="text/javascript">
            var scratcher = new ScratchTicket({
                element: '.scratch-ticket',
                img: $('.scratch-front')[0]
                //img:'http://p3.qhimg.com/t01054e99712b30b0f4.png' 
            });
            scratcher.on('scratchoff', function(e) {
                alert('恭喜你，中奖啦！');
                scratcher.clear();
            });

            $('.refresh').on('touchend', function(e) {
                scratcher.refresh();
            });
            $('.clear').on('touchend', function(e) {
                scratcher.clear();
            });

            var scratcher2 = new ScratchTicket({
                element: '.scratch-ticket-2',
                img: $('.scratch-front')[0]
                //img:'http://p3.qhimg.com/t01054e99712b30b0f4.png' 
            });
            scratcher2.on('scratchoff', function(e) {
                alert('恭喜你，中奖啦！');
                scratcher2.clear();
            });
            $('.refresh-2').on('touchend', function(e) {
                scratcher2.refresh();
            });
            $('.clear-2').on('touchend', function(e) {
                scratcher2.clear();
            });


        </script>
    </body>
</html>
